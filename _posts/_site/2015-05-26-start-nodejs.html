<h2 id="info">Info</h2>

<p>刚上手nodejs，在这里总结一下安装与配置的过程以及过程中出现的问题和解决方案。</p>

<h3 id="section">安装</h3>

<ol>
  <li>在<a href="https://nodejs.org/download/">官网</a>下载对应安装包</li>
  <li>解压</li>
  <li>
    <p>设置环境变量（修改.zshrc或者/etc/profile）：</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> export NODE_HOME=/opt/nodejs
 export PATH=$PATH:$NODE_HOME/bin
 export NODE_PATH=$NODE_HOME/lib/node_modules
</code></pre>
    </div>
  </li>
  <li>
    <p>检查版本：</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> node -v
</code></pre>
    </div>
  </li>
</ol>

<h3 id="section-1">配置</h3>

<ol>
  <li>
    <p>更新版本：</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> npm install -g n
 n stable
 n
</code></pre>
    </div>
  </li>
  <li>
    <p>全局安装模块：</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> npm install -g xxx 模块会安装在NODE_PATH的路径里面
</code></pre>
    </div>
  </li>
  <li>
    <p>使用express和swig：</p>
    <ol>
      <li>
        <p>安装express和generator：</p>

        <div class="highlighter-rouge"><pre class="highlight"><code> npm install -g express express-generator
</code></pre>
        </div>
      </li>
      <li>
        <p>在工程目录下用生成express项目：</p>

        <div class="highlighter-rouge"><pre class="highlight"><code> express project
</code></pre>
        </div>
      </li>
      <li>把package.json里面的jade的键值换成swig以及其相应版本</li>
      <li>
        <p>安装依赖模块：</p>

        <div class="highlighter-rouge"><pre class="highlight"><code> npm install
</code></pre>
        </div>
      </li>
      <li>
        <p>在项目里的app.js中进行如下改动：</p>

        <div class="highlighter-rouge"><pre class="highlight"><code> var swig = require('swig');
		
 app.engine('html', swig.renderFile);
		
 app.set('view engine', 'html');
 app.set('views', __dirname + '/views');
</code></pre>
        </div>
      </li>
      <li>
        <p>运行：</p>

        <div class="highlighter-rouge"><pre class="highlight"><code> DEBUG=xxx:* npm start
</code></pre>
        </div>
      </li>
    </ol>
  </li>
</ol>

<h3 id="section-2">问题</h3>

<ul>
  <li>全局安装模块后运行app时显示<code class="highlighter-rouge"> Cannot find module 'xxx'</code>
原因：没有设置NODE_PATH
解决方案：见安装步骤3</li>
  <li>n下载了新版node但是node -v仍是旧版本
原因：用apt-get安装的node引起的问题
解决方案：purge掉apt-get的node</li>
</ul>
